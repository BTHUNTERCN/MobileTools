!function(e){"function"==typeof define&&define.amd?define(e):mTools=e()}(function(){var e=this,n=e.mTools,t={isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},isFunction:function(e){return"[Object Function]"===Object.prototype.toString.call(e)},isObject:function(e){var n=typeof e;return"function"===n||"object"===n&&!!e},hasKey:function(e,n){return null!==e&&hasOwnProperty.call(e,n)},getKeys:function(e){if(!this.isObject(e))return[];var n=[];for(var t in e)this.hasKeys(e,t)&&n.push(t);return n},getSize:function(e){return null===e?0:this.isArray(e)?e.length:this.isObject?this.getKeys(e).length:0},getValues:function(e){if(!this.isObject(e))return[];var n=[];for(var t in e)this.hasKeys(e,t)&&n.push(e[t]);return n},isEmpty:function(e){return null===e?!0:this.isArray(e)?0===e.length:this.isObject(e)?0===this.getKeys(e).length:!1},merge:function(e){for(var n=1;n<arguments.length;n++)for(var t in arguments[n])e[t]=arguments[n][t];return e},maxInArray:function(e){return Math.max.apply(Math,e)},minInArray:function(e){return Math.min.apply(Math,e)},overload:function(e,n,t){var r=e[n];e[n]=function(){return t.length==arguments.length?t.apply(this,arguments):"function"==typeof r?r.apply(this,arguments):void 0}},toInt:function(e){return 0|e},toBool:function(e){return!!e},each:function(e,n){var t=e.length,r=0;if(this.isArray(e))for(;t>r&&!1!==n.call(e[r],e[r],r);r++);else for(r in e)if(this.hasKeys(e,r)&&!1===n.call(e[r],r+1,e[r]))break},objParmasCheck:function(e,n){var r=e.indexOf(".");if(n||(n=window),-1==r&&n[e])return!0;var i=n[e.slice(0,r)],o=e.substr(r+1,e.length-r-1);return!!i&&t.objParmasCheck(o,i)},noConflict:function(){return e.mTools=n,this}},r={regMap:{Idcard:[/^\s*\d{15}\s*$/,/^\s*\d{16}[\dxX]{2}\s*$/],name:[/^\s*[\u4e00-\u9fa5]{1,}[\u4e00-\u9fa5.·]{0,15}[\u4e00-\u9fa5]{1,}\s*$/],mobilePhone:[/^[1][0-9]{10}$/],number:[/^[0-9]*$/]},regFuns:{},isType:function(e){return t.hasKey(r.regFuns,e)?r.regFuns[e]:r.regFuns[e]=function(e){return t.hasKey(r.regMap,e)?function(n){var i=!1,o=r.regMap[e];return t.each(o,function(e,t){return e.exec(n)?(i=!0,!1):void 0}),i}:function(){return!1}}(e)},isIdcard:function(e){return r.isType("Idcard")(e)},isName:function(e){return r.isType("name")(e.split("·").join(""))},isMobilePhone:function(e){return r.isType("mobilePhone")(e)},isNumber:function(e){var n=/^[0-9]*$/;return n.exec(e)?!0:!1},removeUint:function(e,n){return n?e.replace(n,"")||e:e.replace(/[^0-9.]/gi,"")||e}},i={browsers:{},isBrowser:function(e){return t.hasKey(i.browsers,e)?i.browsers[e]:i.browsers[e]=-1===window.navigator.userAgent.toLowerCase().indexOf(e)?!1:!0},isIos:function(){return i.isBrowser("iphone")},isAndroid:function(){return i.isBrowser("android")},isWeiXin:function(){return i.isBrowser("micromessenger")},isUC:function(){return i.isBrowser("ucbrowser")},isQQ:function(){return i.isBrowser("mqqbrowser")},isSafari:function(){return i.isBrowser("safari")}},o={setCookie:function(e,n,t){var r=new Date;r.setDate(r.getDate()+t),document.cookie=e+"="+escape(n)+(null===t?"":";expires="+r.toGMTString())},getCookie:function(e){return document.cookie.length>0&&(c_start=document.cookie.indexOf(e+"="),-1!=c_start)?(c_start=c_start+e.length+1,c_end=document.cookie.indexOf(";",c_start),-1==c_end&&(c_end=document.cookie.length),unescape(document.cookie.substring(c_start,c_end))):""}},s={imgLoader:function(e,n){setTimeout(function(){var r=e.length,i=0;t.each(e,function(e,o){!function(e,o){var s=document.createElement("img");s.setAttribute("style","display:none;"),s.setAttribute("src",e);var u=document.body.appendChild(s);u.onload=function(){i+=1,t.isFunction(n)&&n({count:i,length:r,img:e}),u.parentNode.removeChild(u)}}(e,o)})},1)}},u={tmpl:function(e,n){var t=new Function("obj","var p=[];with(obj){p.push('"+e.replace(/[\r\t\n]/g," ").replace(/'/g,"\r").split("<%").join("	").replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("p.push('").replace(/\r/g,"\\'")+"');}return p.join('');");return n?t(n):t}},a={toBool:t.toBool,toInt:t.toInt,isArray:t.isArray,isFunction:t.isFunction,isObject:t.isObject,isEmpty:t.isEmpty,hasKeys:t.hasKeys,getKeys:t.getKeys,objParmasCheck:t.objParmasCheck,each:t.each,isIdcard:r.isIdcard,isName:r.isName,isMobile:r.isMobilePhone,isNumber:r.isNumber,removeUint:r.removeUint,isQQ:i.isQQ,isIos:i.isIos,isAndroid:i.isAndroid,isSafari:i.isSafari,isUC:i.isUC,isWeiXin:i.isWeiXin,setCookie:o.setCookie,getCookie:o.getCookie,imgLoader:s.imgLoader,template:u.tmpl,noConflict:t.noConflict};return a});